(function(){"use strict";var e={8821:function(e,t,n){var s=n(9242),i=n(3396);function r(e,t,n,s,r,l){const o=(0,i.up)("GameState");return(0,i.wg)(),(0,i.j4)(o)}var l=n(7139);const o={id:"app"},a={class:"grid grid-rows-4 grid-cols-9 sticky top-0 border-b-4 border-slate-500 select-none"},d={class:"row-span-2"},c={class:"bg-slate-100 row-span-3 col-span-2 text-center font-mono text-5xl p-4"},p={class:"bg-slate-500 text-slate-50 row-span-3 col-span-3 text-center font-mono text-4xl p-5"},u={class:""},h=(0,i._)("i",{class:"fas fa-refresh"},null,-1),f=[h],m={class:"bg-slate-100 row-span-3 col-span-2 text-center font-mono text-5xl p-4"},g={class:"row-span-2"},b={class:"row-span-2"},w={class:"row-span-2"},y={class:"text-center font-mono text-sm bg-slate-300 p-1"},v={class:"text-center font-mono text-sm bg-slate-200 p-1"},_={class:""},k={class:"text-center font-mono bg-slate-100"},x={class:""},S={class:"text-center font-mono text-sm bg-slate-200 p-1"},O={class:"text-center font-mono text-sm bg-slate-300 p-1"},P={class:"grid grid-cols-2 select-none"},T=["onClick"],C={class:""},z={class:"float-right"},V=["onClick"],A={class:""},R={class:"float-right"},L={class:"fixed bottom-0 w-full text-center"},D={class:"text-center"},G={class:"rounded-none border-2 border-slate-400 m-2 p-4"},j=["onClick"],I=(0,i._)("i",{class:"fas fa-trash"},null,-1),N=[I],F={class:"float-right mr-10"},U={key:0,class:"rounded-none border-2 border-slate-500 m-2 p-4"},M=(0,i._)("i",{class:"fa fa-cancel"},null,-1),E=[M],B=(0,i._)("i",{class:"fa fa-check"},null,-1),H=[B],K={class:"mt-20"},Y={class:"rounded-none border-2 border-slate-400 m-2 p-4"},q=["onClick"],Z=(0,i._)("i",{class:"fas fa-trash"},null,-1),J=[Z],Q={class:"float-right mr-10"},W={key:1,class:"rounded-none border-2 border-slate-500 m-2 p-4"},X=(0,i._)("i",{class:"fa fa-cancel"},null,-1),$=[X],ee=(0,i._)("i",{class:"fa fa-check"},null,-1),te=[ee];function ne(e,t,n,r,h,I){return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.wy)((0,i._)("div",null,[(0,i._)("div",a,[(0,i._)("div",d,[(0,i._)("button",{class:"bg-emerald-300 rounded-none w-full h-full",onClick:t[0]||(t[0]=e=>h.playerOneVP++)},"+")]),(0,i._)("div",c,(0,l.zw)(I.playerOneScore),1),(0,i._)("div",p,[(0,i._)("div",u,[(0,i.Uk)((0,l.zw)(h.timerText)+" ",1),(0,i._)("div",{class:"float-right text-slate-200",onClick:t[1]||(t[1]=e=>I.toggleTimer())},[(0,i._)("i",{class:(0,l.C_)(["fas",I.timerIcon])},null,2)]),(0,i._)("div",{class:"float-left text-slate-200",onClick:t[2]||(t[2]=e=>I.resetTimer())},f)])]),(0,i._)("div",m,(0,l.zw)(I.playerTwoScore),1),(0,i._)("div",g,[(0,i._)("button",{class:"rounded-none w-full h-full bg-emerald-300",onClick:t[3]||(t[3]=e=>h.playerTwoVP++)},"+")]),(0,i._)("div",b,[(0,i._)("button",{class:"rounded-none w-full h-full bg-rose-300",onClick:t[4]||(t[4]=e=>h.playerOneVP>0?h.playerOneVP--:0)},"-")]),(0,i._)("div",w,[(0,i._)("button",{class:"rounded-none w-full h-full bg-rose-300",onClick:t[5]||(t[5]=e=>h.playerTwoVP>0?h.playerTwoVP--:0)},"-")]),(0,i._)("div",y,"OP: "+(0,l.zw)(h.playerOneVP),1),(0,i._)("div",v,"SP: "+(0,l.zw)(I.playerOneSP),1),(0,i._)("div",_,[(0,i._)("button",{class:"bg-rose-300 rounded-none w-full h-full",onClick:t[6]||(t[6]=e=>h.roundNumber>1?h.roundNumber--:0)},"-")]),(0,i._)("div",k,"Round "+(0,l.zw)(h.roundNumber),1),(0,i._)("div",x,[(0,i._)("button",{class:"bg-emerald-300 rounded-none w-full h-full",onClick:t[7]||(t[7]=e=>h.roundNumber++)},"+")]),(0,i._)("div",S,"SP: "+(0,l.zw)(I.playerTwoSP),1),(0,i._)("div",O,"OP: "+(0,l.zw)(h.playerTwoVP),1)]),(0,i._)("div",P,[(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.playerOneList,(e=>((0,i.wg)(),(0,i.iD)("ul",{key:e.id},[(0,i._)("li",{class:(0,l.C_)(["rounded-none border-2 border-slate-400 m-2 p-4",I.shipStateClass(e)]),onClick:t=>I.cycleShipState(e)},[(0,i._)("div",C,[(0,i.Uk)((0,l.zw)(e.name)+" ",1),(0,i._)("div",z,(0,l.zw)(e.points)+"/"+(0,l.zw)(Math.floor(e.points/2)),1)])],10,T)])))),128))]),(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.playerTwoList,(e=>((0,i.wg)(),(0,i.iD)("ul",{key:e.id},[(0,i._)("li",{class:(0,l.C_)(["rounded-none border-2 border-slate-400 m-2 p-4",I.shipStateClass(e)]),onClick:t=>I.cycleShipState(e)},[(0,i._)("div",A,[(0,i.Uk)((0,l.zw)(e.name)+" ",1),(0,i._)("div",R,(0,l.zw)(e.points)+"/"+(0,l.zw)(Math.floor(e.points/2)),1)])],10,V)])))),128))])]),(0,i._)("div",L,[(0,i._)("div",{class:"rounded-none bg-rose-300 p-2",onClick:t[8]||(t[8]=e=>I.endGame())},"End Game")])],512),[[s.F8,h.stateGame]]),(0,i.wy)((0,i._)("div",null,[(0,i._)("div",D,[(0,i._)("h3",null,"Player One: "+(0,l.zw)(I.playerOneListPoints),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.playerOneList,(e=>((0,i.wg)(),(0,i.iD)("ul",{key:e.id},[(0,i._)("li",G,[(0,i.Uk)((0,l.zw)(e.name)+" ",1),(0,i._)("div",{class:"float-right",onClick:t=>I.deleteShip(e)},N,8,j),(0,i._)("div",F,(0,l.zw)(e.points),1)])])))),128)),h.stateAddingFirst?((0,i.wg)(),(0,i.iD)("div",U,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=e=>h.ship.name=e),class:"p-3 border-2 border-slate-300",placeholder:"Pilot Name"},null,512),[[s.nr,h.ship.name]]),(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=e=>h.ship.points=e),class:"p-3 border-2 border-slate-300",placeholder:"Points"},null,512),[[s.nr,h.ship.points]]),(0,i._)("button",{class:"border-2 border-red-300 bg-red-100 p-3",onClick:t[11]||(t[11]=e=>h.stateAddingFirst=!1)},E),(0,i._)("button",{class:"border-2 border-green-300 bg-green-100 p-3",onClick:t[12]||(t[12]=e=>I.addShip(1))},H)])):(0,i.kq)("",!0),(0,i._)("div",{class:"rounded-none border-2 border-green-500 bg-green-200 m-2 p-4",onClick:t[13]||(t[13]=e=>h.stateAddingFirst=!0)},"Add Ship"),(0,i._)("h3",K,"Player Two: "+(0,l.zw)(I.playerTwoListPoints),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.playerTwoList,(e=>((0,i.wg)(),(0,i.iD)("ul",{key:e.id},[(0,i._)("li",Y,[(0,i.Uk)((0,l.zw)(e.name)+" ",1),(0,i._)("div",{class:"float-right",onClick:t=>I.deleteShip(e)},J,8,q),(0,i._)("div",Q,(0,l.zw)(e.points),1)])])))),128)),h.stateAddingSecond?((0,i.wg)(),(0,i.iD)("div",W,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=e=>h.ship.name=e),class:"p-3 border-2 border-slate-300",placeholder:"Pilot Name"},null,512),[[s.nr,h.ship.name]]),(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=e=>h.ship.points=e),class:"p-3 border-2 border-slate-300",placeholder:"Points"},null,512),[[s.nr,h.ship.points]]),(0,i._)("button",{class:"border-2 border-red-300 bg-red-100 p-3",onClick:t[16]||(t[16]=e=>h.stateAddingSecond=!1)},$),(0,i._)("button",{class:"border-2 border-green-300 bg-green-100 p-3",onClick:t[17]||(t[17]=e=>I.addShip(2))},te)])):(0,i.kq)("",!0),(0,i._)("div",{class:"rounded-none border-2 border-green-500 bg-green-200 m-2 p-4",onClick:t[18]||(t[18]=e=>h.stateAddingSecond=!0)},"Add Ship"),(0,i._)("div",{class:"rounded-none border-2 border-red-500 bg-red-200 m-2 p-4 mt-20",onClick:t[19]||(t[19]=e=>I.startGame())},"Start Game")])],512),[[s.F8,h.stateBuild]])])}var se={setup(){},data(){return{ships:[],ship:{id:null,player:0,name:"",points:"",state:""},maxId:0,playerOneVP:0,playerTwoVP:0,roundNumber:1,timerRunning:!1,timerRemaining:45e5,timerEnd:null,timer:void 0,timeNow:null,timerText:"75:00",stateGame:!1,stateBuild:!0,stateAddingFirst:!1,stateAddingSecond:!1}},computed:{playerOneScore(){return this.playerOneSP+this.playerOneVP},playerTwoScore(){return this.playerTwoSP+this.playerTwoVP},playerOneList(){return this.ships.filter((e=>1===e.player))},playerTwoList(){return this.ships.filter((e=>2===e.player))},playerOneSP(){let e=0;for(let t of this.playerTwoList)"destroyed"===t.state?e+=t.points:"half"===t.state&&(e+=Math.floor(t.points/2));return e},playerOneListPoints(){let e=0;for(let t of this.playerOneList)e+=t.points;return e},playerTwoListPoints(){let e=0;for(let t of this.playerTwoList)e+=t.points;return e},playerTwoSP(){let e=0;for(let t of this.playerOneList)"destroyed"===t.state?e+=t.points:"half"===t.state&&(e+=Math.floor(t.points/2));return e},timerIcon(){return this.timerRunning?"fa-pause":"fa-play"}},methods:{cycleShipState(e){this.ship=Object.assign({},e),"full"===this.ship.state?this.ship.state="half":"half"===this.ship.state?this.ship.state="destroyed":this.ship.state="full";let t=this.ships.findIndex((e=>e.id===this.ship.id));this.ships.splice(t,1,this.ship)},shipStateClass(e){return"full"===e.state?"bg-slate-100":"half"===e.state?"bg-yellow-100":"bg-red-300"},deleteShip(e){this.ship=Object.assign({},e);let t=this.ships.findIndex((e=>e.id===this.ship.id));this.ships.splice(t,1)},addShip(e){this.ship.id=this.maxId,this.maxId++,this.ship.player=e,this.ship.state="full";let t=Object.assign({},this.ship);this.ships.push(t),this.stateAddingFirst=!1,this.stateAddingSecond=!1},toggleTimer(){this.timerRunning=!this.timerRunning,this.timerRunning?(this.timerEnd=Date.now()+this.timerRemaining,this.timer=setInterval(this.updateTimer,500)):clearInterval(this.timer)},resetTimer(){this.timerRunning=!1,clearInterval(this.timer),this.timerRemaining=45e5,this.timerText="75:00"},updateTimer(){this.timerRunning&&(this.timerRemaining=this.timerEnd-Date.now());let e=Math.floor(this.timerRemaining/6e4),t=Math.floor((this.timerRemaining-60*e*1e3)/1e3);this.timerText=e+":"+String(t).padStart(2,"0")},endGame(){clearInterval(this.timer),this.stateGame=!1,this.stateBuild=!0,this.timerRunning&&this.toggleTimer()},startGame(){this.stateGame=!0,this.stateBuild=!1;for(let e of this.ships)e.state="full";this.playerOneVP=0,this.playerTwoVP=0,this.resetTimer()}}},ie=n(89);const re=(0,ie.Z)(se,[["render",ne]]);var le=re,oe={name:"App",components:{GameState:le}};const ae=(0,ie.Z)(oe,[["render",r]]);var de=ae,ce=n(5431);(0,ce.z)("/gamestate/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,s.ri)(de).mount("#app")}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,s,i,r){if(!s){var l=1/0;for(c=0;c<e.length;c++){s=e[c][0],i=e[c][1],r=e[c][2];for(var o=!0,a=0;a<s.length;a++)(!1&r||l>=r)&&Object.keys(n.O).every((function(e){return n.O[e](s[a])}))?s.splice(a--,1):(o=!1,r<l&&(l=r));if(o){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[s,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,r,l=s[0],o=s[1],a=s[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(a)var c=a(n)}for(t&&t(s);d<l.length;d++)r=l[d],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},s=self["webpackChunkxwing_gamestate"]=self["webpackChunkxwing_gamestate"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(8821)}));s=n.O(s)})();
//# sourceMappingURL=app.400f0065.js.map